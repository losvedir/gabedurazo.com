---
date: Nov. 25, 2011
title: New blog setup: nginx, Hakyll, rsync
description: Overview comparing my new blog setup to my old Wordpress one
---
<p>
I've decided to move to a static site so it remains snappy with a minimum CPU overhead. The site is now generated by Hakyll (and Compass/Sass for the CSS), and rsynced to my server running nginx. The process becomes:
<ol>
	<li>Write a post in markup.</li>
	<li>Use hakyll to compile it to a static site.</li>
	<li>rsync it with my linode server.</li>
	<li>Visit! Let nginx work its magic.</li>
</ol>
</p>
<h2>nginx</h2>
<p>
I took this occasion to move from apache to nginx as well. From what I've read nginx is smaller and faster. It was also relatively easy to configure, too, which was nice.
</p>

<p>
I will detail my configurations and comparison to apache2 later.
</p>

<h2>hakyll</h2>
<p>
Since my blog has relatively few comments and I don't need all the various plug-ins that a CMS offers, I figured Wordpress was overkill.
</p>

<p>
Enter hakyll, a static site generator, inspired (I'm guessing, based on the name) by Jekyll. Basically you write your posts in mark-up, have a few templates and some logic, and then run a little script to compile it into a site. I chose hakyll over Jekyll because I wanted to play around a bit with Haskell. 
<p>

<p>
It looks like hakyll uses Arrows, so someday I'd like to write a post about those.
</p>

<h2>rsync</h2>
<p>
A simple rsync will then take my compiled site and update the version on my server. I use the -c (--checksum) option to only update files that need updating.
</p>